<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
    <head>
        <meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
        <title>CWRC-Writer</title>
        
        <link type="text/css" rel="stylesheet" href="../css/style.css" />
        <link type="text/css" rel="stylesheet" href="../css/layout-default-latest.css" />
        <link type="text/css" rel="stylesheet" href="../css/cwrc12/jquery-ui.css" />
        <link type="text/css" rel="stylesheet" href="../css/prism.css" />
        <link type="text/css" rel="stylesheet" href="../css/editor.css" />
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
            integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous" />
    </head>
    <body>
        <div id="cwrcWriterContainer" style="height: 100%; width: 100%;"></div>
        <script type="text/javascript" src="../js/app.js"></script>
        <script type="text/javascript">
	        function getParameterByName(name, url) {
	            if (!url) url = window.location.href;
	            name = name.replace(/[\[\]]/g, "\\$&");
	            var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
	                results = regex.exec(url);
	            if (!results) return null;
	            if (!results[2]) return '';
	            return decodeURIComponent(results[2].replace(/\+/g, " "));
	        }
	        
	        var readonly = getParameterByName('readonly');
            if (readonly == 'true') readonly = true;
            
            var config = CWRCWriterConfig;
            config.readonly = readonly;
            config.mode = 'xml';
            config.buttons1 = 'schematags,editTag,removeTag,|,addperson,addplace,adddate,addorg,addcitation,addtitle,addcorrection,addkeyword,addlink';
            
            config.layout = CWRCWriterLayout;
            config.entityLookupDialogs = CWRCWriterDialogs;
            config.storageDialogs = CWRCWriterStorageDialogs;
            window.writer = new CWRCWriter(config);
            window.writer.init("cwrcWriterContainer");
        </script>
    </body>
</html>